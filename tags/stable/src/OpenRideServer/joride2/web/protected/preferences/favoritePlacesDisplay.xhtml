<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >


    <h:head> <!-- enforce UTF 8. also, header is needed for primefaces to work  -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </h:head>



    <body>


        <ui:composition template="/templates/navbar1Layout.xhtml">


            <!-- highlight "preferences" tab -->
            <ui:param name="jrtabindex" value="#{jrtab.jorideTabindexPreferences}" />


            <ui:define name="windowTitle">
                #{msgs.title}
            </ui:define>


            <ui:define name="content">


                #{jfavpoint.updateFromDB()}

                <h1>  #{jfavpoint.favptDisplayname} </h1>

                <p>
                    <div class="formLabel"> #{msgs.favptAddressExplanation} </div>
                    #{jfavpoint.favptAddress}
                </p>

                <p>    
                    <div class="formLabel"> #{msgs.favptPoint} </div>
                    #{jfavpoint.favptPoint}
                </p>



                <h:inputHidden value="#{jfavpoint.favptId}" />



                <!-- **************************************************************************** -->
                <!-- div to show the map  --> 

                <!-- **************************************************************************** -->

                <div id="mapdiv" style="width:300px; height:300px;" > </div>





                <!-- we may deliver a local OpenLayers version 2.12              -->
                <!-- alternatively, it can be included from OpenLayers.org   -->
                <!-- h:outputScript library="js" name="OpenLayers.js" /      -->

                <script src="http://www.openlayers.org/api/OpenLayers.js"></script>


                <!-- include standard jquery  -->
                <h:outputScript library="js" name="jquery-1.4.1.js" />


                <!-- include pickpoint script  -->
                <h:outputScript library="js" name="pickpoint.js" />




                <!-- creation of map and control object ends above -->    
                <!-- code above has to be externalized first       -->



                <!-- Show map with default click handler -->

                <script>
                                      
                    var map=createOSMMap();	  

                    // 
                    //	
                    var jorideMarkersLayer;	

           
                    // create markers layer, and center at lon/lat of favorite point
                    createMarkersLayer( #{jfavpoint.lon}, #{jfavpoint.lat} , 16, map);
		
                
 
                </script>













                <h:form>
                    <h:commandLink action="preferences.favoritePlaces" value="#{msgs.back}" />
                </h:form>





            </ui:define>




        </ui:composition>





    </body>
</html>
